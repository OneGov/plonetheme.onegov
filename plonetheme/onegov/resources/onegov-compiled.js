requirejs(["jquery"],function(e){function t(t){e("#portal-breadcrumbs .flyoutBreadcrumbs .crumb.active > ul").each(function(n,a){var l=e(a);l.parent().find("a.loadChildren").attr("href")!=t.attr("href")&&(l.hide(),l.parent().removeClass("active"))})}function n(t){return e(t).is("ul.flyoutChildren")||e(t).is("ul.children")}var a=0;e(function(e){var l=function(t,n){var a=t.children("a:first"),l=a.parent("li"),i=l.siblings();i.find("ul.flyoutChildren").hide(),i.removeClass("flyoutActive");var o=l.find("ul:first");0==o.length?n&&e.ajax({type:"GET",url:a.attr("href")+"/load_flyout_children",success:function(t,n,a){if("success"==n){var i=e(t);i.show(),l.removeClass("loading"),l.append(i)}}}):o.toggle(),n&&l.toggleClass("flyoutActive")},i=function(t,a){var i=t,o=i.parent(".wrapper").parent("li"),r=e("#portal-globalnav li").not("#"+o.attr("id"));r.find("ul").hide(),r.removeClass("flyoutActive");var s=o.find("ul:first");0==s.length&&e.ajax({type:"GET",url:i.attr("href")+"/load_flyout_children",success:function(t,a,i){if("success"==a&&n(t)){var r=e(t);r.hide(),o.removeClass("loading"),o.append(r),e("#portal-globalnav").hasClass("flyoutGrandchildrenEnabled")&&o.find(".level1").not(".noChildren").hover(function(t){t.preventDefault(),l(e(this),!0)},function(t){t.preventDefault(),l(e(this),!1)})}}}),a&&o.toggleClass("flyoutActive"),s.toggle()};e("#portal-globalnav.flyoutEnabled > li > .wrapper a").each(function(t,n){i(e(n),!1)}),e("#portal-globalnav.flyoutEnabled > li > .wrapper a").click(function(t){t.preventDefault(),i(e(this),!0)}),e("body").click(function(t){e(t.target).closest("#portal-globalnav").length||e("#portal-globalnav li").removeClass("flyoutActive").find("ul").hide(),e(t.target).closest("#portal-breadcrumbs .crumb").length||e("#portal-breadcrumbs .flyoutBreadcrumbs .crumb.active").removeClass("active").find("ul").hide()}),e("div.to_top a").click(function(t){t.preventDefault(),e("html, body").scrollTop(0).focus().blur()}),e("#toggle_subsitelangs").click(function(t){t.preventDefault();var n=e(this);close_opened(n),n.toggleClass("selected"),e("#portal-languageselector .actionMenuContent").toggle()}),e("#portal-breadcrumbs .flyoutBreadcrumbs .crumb > a").each(function(t,a){var l=e(a);l.hasClass("factory")||e.ajax({type:"GET",url:l.attr("href")+"/load_flyout_children",data:{breadcrumbs:!0},success:function(t,a,i){"success"===a&&n(t)&&e(t).hasClass("children")&&e(t).is("ul")?(l.after('<a href="'+l.attr("href")+'" class="loadChildren" tabindex="-1">â–¼</a>'),l.after(t)):l.addClass("noChildren")}})}),e("#portal-breadcrumbs").delegate(".flyoutBreadcrumbs a.loadChildren","click",function(n){n.preventDefault();var a=e(this),l=a.parent(),i=l.find("ul.children");t(a),i.toggle(),l.toggleClass("active")}),e("#fieldsetlegend-importexport").click(function(t){0==a&&setTimeout("c=0;",2e3),10==(a+=1)&&e("#custom-scss-field").fadeIn("slow")})})}),define("js/onegov",function(){}),define("js/pattern.markspeciallinks.js",["pat-base","jquery"],function(e,t){"use strict";return e.extend({name:"markspeciallinks",trigger:".pat-markspeciallinks",parser:"mockup",defaults:{external_links_open_new_window:!1,mark_special_links:!0},init:function(){var e,n,a,l,i,o,r=this,s=r.$el;"string"==typeof r.options.external_links_open_new_window?e="true"===r.options.external_links_open_new_window.toLowerCase():"boolean"==typeof r.options.external_links_open_new_window&&(e=r.options.external_links_open_new_window),"string"==typeof r.options.mark_special_links?n="true"===r.options.mark_special_links.toLowerCase():"boolean"==typeof r.options.mark_special_links&&(n=r.options.mark_special_links),a=window.location.protocol+"//"+window.location.host,l=/^(mailto|ftp|news|irc|h323|sip|callto|https|feed|webcal)/,i=s,e&&i.find('a[href^="http"]:not(.link-plain):not([href^="'+a+'"])').attr("target","_blank"),n&&(i.find('a[href^="http:"]:not(.link-plain):not([href^="'+a+'"]):not(:has(img))').wrap("<span></span>").parent().addClass("link-external"),i.find('a[href]:not([href^="http:"]):not(.link-plain):not([href^="'+a+'"]):not(:has(img))').each(function(){(o=l.exec(this.href))&&t(this).wrap("<span></span>").parent().addClass("link-"+o[0])}))}})}),require(["js/onegov","js/pattern.markspeciallinks.js"],function(e,t){}),define("main",function(){});